<h2 mat-dialog-title>Submit application</h2>
<flash-messages></flash-messages>
<mat-spinner style="display:block;margin:0 auto;" *ngIf="isLoading"></mat-spinner>
<mat-dialog-content class="mat-typography" *ngIf="!isLoading">
  <p>The<strong> {{data.opt.name}} </strong>requires applicants to submit their
    <b>resume</b> and <b>cover of letter</b>
    the rest of application along with details can be accessed by the link at the bottom.</p>



  <form [formGroup]="form">
    <h3>1. Resume</h3>
    <div *ngIf="application.resume != ''">
      <div class="alert alert-success alert-dismissible">
        <button class="close" data-dismiss="alert" aria-label="close" (click)="deleteFile('resume')">&times;</button>
        <strong> Resume upload success!</strong> You can <a [href]="resume" class="alert-link">download this file</a>.
      </div>
    </div>
    <div class="row">
      <button mat-stroked-button color='primary' type="button" (click)="ResumePicker.click()">
        <mat-icon>add_circle</mat-icon>
        <span> upload resume</span>
      </button>
      <input type="file" #ResumePicker style="display: none;" 
      (change)="onResumePicked($event)" formControlName="resume"
      accept="application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.google-apps.document">
    </div>
    <h3>2. cover of letter</h3>
    <div *ngIf="application.coverLetter != ''">
      <div class="alert alert-success alert-dismissible">
        <button class="close" data-dismiss="alert" aria-label="close" (click)="deleteFile('CV')">&times;</button>
        <strong> Cover letter upload success!</strong> You can <a [href]="coverLetter" class="alert-link">download this file</a>.
      </div>
    </div>
    <div class="row">
      <button mat-stroked-button color='primary' type="button" (click)="CVPicker.click()">
        <mat-icon>add_circle</mat-icon>
        <span> upload cover of letter</span>
      </button>
      <input type="file" #CVPicker style="display: none;" 
      (change)="onCVPicked($event)" formControlName="CV"
      accept="application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.google-apps.document">
    </div>
    <!-- <h3>3. letter of recommendation</h3>
    <div class="row">
      <button mat-stroked-button color='primary' type="button" (click)="filePicker.click()">
        <mat-icon>add_circle</mat-icon>
        <span> upload new document</span>
      </button>
      <input type="file" #filePicker style="display: none;" (change)="onFilePicked($event)">
    </div>
    <h3>4. Other documents</h3>
    <div class="row">
      <button mat-stroked-button color='primary' type="button" (click)="filePicker.click()">
        <mat-icon>add_circle</mat-icon>
        <span> upload new document</span>
      </button>
      <input type="file" #filePicker style="display: none;" (change)="onFilePicked($event)">
    </div> -->
  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>
  <button mat-raised-button color="primary" (click)="onSubmitApplication()" >submit</button>
</mat-dialog-actions>